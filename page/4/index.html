<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Gemini","version":"8.0.0-rc.3","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"valine","storage":true,"lazyload":false,"nav":null,"activeClass":"valine"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="比昨天更好">
<meta property="og:type" content="website">
<meta property="og:title" content="汇源果汁吖！">
<meta property="og:url" content="http://yoursite.com/page/4/index.html">
<meta property="og:site_name" content="汇源果汁吖！">
<meta property="og:description" content="比昨天更好">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="hhy">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/page/4/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>汇源果汁吖！</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="汇源果汁吖！" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
        <span class="toggle-line toggle-line-first"></span>
        <span class="toggle-line toggle-line-middle"></span>
        <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">汇源果汁吖！</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">一点小记录</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">12</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">7</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">47</span></a>

  </li>
        <li class="menu-item menu-item-schedule">

    <a href="/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>日程表</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>站点地图</a>

  </li>
        <li class="menu-item menu-item-commonweal">

    <a href="/404/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>公益 404</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/07/for%E5%BE%AA%E7%8E%AF%E5%8F%8Abreak%E5%92%8Ccontinue%E7%9A%84%E5%8C%BA%E5%88%AB%20/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="hhy">
      <meta itemprop="description" content="比昨天更好">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="汇源果汁吖！">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/07/for%E5%BE%AA%E7%8E%AF%E5%8F%8Abreak%E5%92%8Ccontinue%E7%9A%84%E5%8C%BA%E5%88%AB%20/" class="post-title-link" itemprop="url">2020-05-11   graduation问题</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-06-07 22:57:52 / 修改时间：23:08:10" itemprop="dateCreated datePublished" datetime="2020-06-07T22:57:52+08:00">2020-06-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%A1%B9%E7%9B%AE/" itemprop="url" rel="index"><span itemprop="name">项目</span></a>
                </span>
            </span>

          
            <span id="/2020/06/07/for%E5%BE%AA%E7%8E%AF%E5%8F%8Abreak%E5%92%8Ccontinue%E7%9A%84%E5%8C%BA%E5%88%AB%20/" class="post-meta-item leancloud_visitors" data-flag-title="2020-05-11   graduation问题" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/06/07/for%E5%BE%AA%E7%8E%AF%E5%8F%8Abreak%E5%92%8Ccontinue%E7%9A%84%E5%8C%BA%E5%88%AB%20/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/06/07/for%E5%BE%AA%E7%8E%AF%E5%8F%8Abreak%E5%92%8Ccontinue%E7%9A%84%E5%8C%BA%E5%88%AB%20/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>562</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="for-循环"><a href="#for-循环" class="headerlink" title="for 循环"></a>for 循环</h1><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">for</span><span class="params">( 初始语句  ; 执行条件  ; 增量 )</span></span>&#123;</span><br><span class="line">    循环体</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>执行顺序：1、初始语句 2、执行条件是否符合 3、循环体 4、增加增量</p>
<p>初始化语句只在循环开始前执行一次，每次执行循环体时要先判断是否符合条件，如果循环条件为 true，则执行循环体，再执行迭代语句。</p>
<p>所以对于 for 循环，循环条件总比循环体多执行一次。</p>
<p>注意：for 循环的循环体和迭代语句不在一起（while 和 do-while 是在一起的）所以如果使用 continue 来结束本次循环，迭代语句还有继续运行，而 while 和 do-while 的迭代部分是不运行的。</p>
<h1 id="break-和-continue-的区别和作用"><a href="#break-和-continue-的区别和作用" class="headerlink" title="break 和 continue 的区别和作用"></a>break 和 continue 的区别和作用</h1><p>break 和 continue 都是用来控制循环结构的，主要是停止循环。</p>
<ul>
<li>break</li>
</ul>
<p>有时候我们想在某种条件出现的时候终止循环而不是等到循环条件为 false 才终止。</p>
<p><em>这时我们可以使用 break 来完成。break 用于完全结束一个循环，跳出循环体执行循环后面的语句。</em></p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">var</span> <span class="keyword">str </span>= <span class="string">"hello"</span><span class="comment">;</span></span><br><span class="line"><span class="symbol">for</span> (var <span class="keyword">item </span>of <span class="keyword">str)&#123;</span></span><br><span class="line"><span class="keyword"> </span>   <span class="meta">if</span>(<span class="keyword">item </span>===<span class="string">"l"</span>)&#123;</span><br><span class="line">        continue</span><br><span class="line">    &#125;</span><br><span class="line">    console.log(<span class="keyword">item); </span> // h e o</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>原文[<a href="https://www.cnblogs.com/sghy/p/7827255.html]" target="_blank" rel="noopener">https://www.cnblogs.com/sghy/p/7827255.html]</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/07/PrintWriter%E7%9A%84write()%20%E4%B8%8E%20println()%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="hhy">
      <meta itemprop="description" content="比昨天更好">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="汇源果汁吖！">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/07/PrintWriter%E7%9A%84write()%20%E4%B8%8E%20println()%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9F/" class="post-title-link" itemprop="url">2020-05-11   graduation问题</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-06-07 22:57:52 / 修改时间：23:09:27" itemprop="dateCreated datePublished" datetime="2020-06-07T22:57:52+08:00">2020-06-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%A1%B9%E7%9B%AE/" itemprop="url" rel="index"><span itemprop="name">项目</span></a>
                </span>
            </span>

          
            <span id="/2020/06/07/PrintWriter%E7%9A%84write()%20%E4%B8%8E%20println()%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9F/" class="post-meta-item leancloud_visitors" data-flag-title="2020-05-11   graduation问题" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/06/07/PrintWriter%E7%9A%84write()%20%E4%B8%8E%20println()%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9F/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/06/07/PrintWriter%E7%9A%84write()%20%E4%B8%8E%20println()%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9F/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>118</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="PrintWriter的write-与-println-的区别？"><a href="#PrintWriter的write-与-println-的区别？" class="headerlink" title="PrintWriter的write() 与 println()的区别？"></a>PrintWriter的write() 与 println()的区别？</h1><p>println(“xxx”) ==&gt; write(“xxx”) + newLine()</p>
<p>newLine()是<strong>私有方法</strong>,不可以直接调用</p>
<p>newLine()调用flush() 写缓冲</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/07/Java%E5%B9%B6%E5%8F%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="hhy">
      <meta itemprop="description" content="比昨天更好">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="汇源果汁吖！">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/07/Java%E5%B9%B6%E5%8F%91/" class="post-title-link" itemprop="url">2020-05-11   graduation问题</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-06-07 22:57:52 / 修改时间：23:08:39" itemprop="dateCreated datePublished" datetime="2020-06-07T22:57:52+08:00">2020-06-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%A1%B9%E7%9B%AE/" itemprop="url" rel="index"><span itemprop="name">项目</span></a>
                </span>
            </span>

          
            <span id="/2020/06/07/Java%E5%B9%B6%E5%8F%91/" class="post-meta-item leancloud_visitors" data-flag-title="2020-05-11   graduation问题" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/06/07/Java%E5%B9%B6%E5%8F%91/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/06/07/Java%E5%B9%B6%E5%8F%91/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>2 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="并发基础"><a href="#并发基础" class="headerlink" title="并发基础"></a>并发基础</h1><h2 id="创建线程的三种方式"><a href="#创建线程的三种方式" class="headerlink" title="创建线程的三种方式"></a>创建线程的三种方式</h2><ol>
<li>extends Thread</li>
<li>implements Runnable</li>
<li>implements Callable</li>
</ol>
<h3 id="三种方式比较"><a href="#三种方式比较" class="headerlink" title="三种方式比较"></a>三种方式比较</h3><ol>
<li>继承实现：当前线程直接使用this，不需Thread.currentThread；Java只能单继承，任务与代码没有分离，没有返回值</li>
<li>Runnable：多线程进行同一任务只需要一份代码；没有返回值</li>
<li>Callable：有返回值</li>
</ol>
<hr>
<p>总结：</p>
<p>使用继承方便传参，通过设置子类的私有属性，set方法，构造方法进行参数传递，Runnable只能使用主线程声明的final变量；但Java单继承，继承了Thread后无法继承其他类。继承和Runnable都没有返回值，Callable–FutureTask可以有返回值</p>
<h2 id="线程唤醒与等待"><a href="#线程唤醒与等待" class="headerlink" title="线程唤醒与等待"></a>线程唤醒与等待</h2><p><font color=red size=3><strong>为什么是用共享变量(锁对象)的wait()而不是线程对象的wait()？</strong></font></p>
<p>为何这三个不是Thread类声明中的方法，而是Object类中声明的方法（当然由于Thread类继承了Object类，所以Thread也可以调用者三个方法）？其实这个问题很简单，由于每个对象都拥有monitor（即锁），所以让当前线程等待某个对象的锁，当然应该通过这个对象来操作了。而不是用当前线程来操作，<strong>因为当前线程可能会等待多个线程的锁，</strong>如果通过线程来操作，就非常复杂了。</p>
<p>=======================================================<br>上面已经提到，如果调用某个对象的wait()方法，当前线程必须拥有这个对象的monitor（即锁），因此调用wait()方法必须在同步块或者同步方法中进行（synchronized块或者synchronized方法）。如果当前线程没有这个对象的锁就调用wait()方法，则会抛出IllegalMonitorStateException.</p>
<p>=======================================================<br>调用某个对象的wait()方法，相当于让当前线程交出（释放）此对象的monitor，然后进入等待状态，等待后续再次获得此对象的锁（Thread类中的sleep方法使当前线程暂停执行一段时间，从而让其他线程有机会继续执行，但它并不释放对象锁）；<br>————————————————<br>版权声明：本文为CSDN博主「Demon_HL」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a href="https://blog.csdn.net/Demon_HL/java/article/details/104984117" target="_blank" rel="noopener">https://blog.csdn.net/Demon_HL/java/article/details/104984117</a></p>
<p>wait()、notify()、notifyAll()都是针对共享变量的等待与唤醒，一个共享变量可以被多个线程所等待，唤醒哪个变量是随机的。只有获取到共享变量的监视器锁的线程才可以继续运行</p>
<h2 id="等待线程执行终止-join"><a href="#等待线程执行终止-join" class="headerlink" title="等待线程执行终止 join()"></a>等待线程执行终止 join()</h2><p>A线程调用B线程的join()方法，A线程阻塞等待B线程执行完毕，中途若其他线程调用A线程的interrupt()则报异常</p>
<h2 id="线程睡眠-sleep"><a href="#线程睡眠-sleep" class="headerlink" title="线程睡眠 sleep()"></a>线程睡眠 sleep()</h2><ol>
<li>sleep()是Thread的方法而不是Object的方法</li>
<li>线程调用sleep()让出执行权（<font color="red">这里的执行权是啥意思。如果线程在使用cpu则让出，如果没有在使用cpu则不参与cpu调度？</font>）不参与cpu调度</li>
<li>不会让出已拥有的监视器资源，比如监视器锁。</li>
<li>指定时间过后线程进入就绪状态，重新参与cpu的调度。</li>
<li>睡眠期间被调用该线程的interrupt()回报异常</li>
</ol>
<p>sleep(-1)报错</p>
<h2 id="让出cpu使用权-yield"><a href="#让出cpu使用权-yield" class="headerlink" title="让出cpu使用权  yield()"></a>让出cpu使用权  yield()</h2><ol>
<li><p>暗示线程调度器：本线程使用cpu的时间片剩余时间不想用了，分配时间片给其他线程。</p>
</li>
<li><p>线程调度器可以无视该暗示</p>
</li>
<li><p>本线程让出cpu后处于就绪状态，还参与cpu调度，线程调度器分配cpu给优先级最高的线程，下一个时间片可能还被分配给该线程</p>
</li>
</ol>
<p><em>yield()与sleep()的区别：</em></p>
<p>yield让出cpu，但出于就绪状态，参与cpu下一轮调度</p>
<p>sleep让出cpu，在指定时间之前都处于阻塞状态，不参与cpu调度</p>
<h2 id="线程中断"><a href="#线程中断" class="headerlink" title="线程中断"></a>线程中断</h2><ul>
<li>void interrupt()</li>
</ul>
<p>调用线程的interrupt()，给线程的中断标志设置为true，但线程并不会被中断，而是继续执行。</p>
<p>若该线程调用了wait(),join(),sleep()被阻塞挂起时再调用interrupt()会报interruptedException异常</p>
<ul>
<li>boolean isInterrupted()</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> isInterrupted(<span class="keyword">false</span>);</span><br></pre></td></tr></table></figure>

<p>判断线程是否被中断，不改变线程中断状态</p>
<ul>
<li>boolean interrupted()——–<font color="red">静态方法</font></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> currenrThread.isInterrupted(<span class="keyword">true</span>);</span><br></pre></td></tr></table></figure>

<p>判断线程是否被中断，若线程被中断则消除中断标志</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/07/MySQL%E7%AE%80%E5%8D%95%E4%BE%8B%E5%AD%90%20/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="hhy">
      <meta itemprop="description" content="比昨天更好">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="汇源果汁吖！">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/07/MySQL%E7%AE%80%E5%8D%95%E4%BE%8B%E5%AD%90%20/" class="post-title-link" itemprop="url">2020-05-11   graduation问题</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-06-07 22:57:52 / 修改时间：23:09:11" itemprop="dateCreated datePublished" datetime="2020-06-07T22:57:52+08:00">2020-06-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%A1%B9%E7%9B%AE/" itemprop="url" rel="index"><span itemprop="name">项目</span></a>
                </span>
            </span>

          
            <span id="/2020/06/07/MySQL%E7%AE%80%E5%8D%95%E4%BE%8B%E5%AD%90%20/" class="post-meta-item leancloud_visitors" data-flag-title="2020-05-11   graduation问题" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/06/07/MySQL%E7%AE%80%E5%8D%95%E4%BE%8B%E5%AD%90%20/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/06/07/MySQL%E7%AE%80%E5%8D%95%E4%BE%8B%E5%AD%90%20/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>4.5k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>4 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>真的是一些简单例子，我还写了好久</p>
<h1 id="database-stu-sql-文件内容"><a href="#database-stu-sql-文件内容" class="headerlink" title="database.stu.sql 文件内容:"></a>database.stu.sql 文件内容:</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">database</span> <span class="keyword">if</span> <span class="keyword">exists</span> stu;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> stu;</span><br><span class="line"><span class="keyword">use</span> stu;</span><br><span class="line"><span class="keyword">set</span> <span class="keyword">names</span> gbk;</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> <span class="keyword">if</span> <span class="keyword">exists</span> student;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student(</span><br><span class="line">    <span class="keyword">sid</span> <span class="built_in">int</span> primary <span class="keyword">key</span> auto_increment <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">    sname <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">    sage <span class="built_in">int</span>,</span><br><span class="line">    ssex <span class="built_in">varchar</span>(<span class="number">2</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student (sname,sage,ssex) <span class="keyword">values</span> (<span class="string">'haoge'</span>,<span class="number">23</span>,<span class="string">'m'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student (sname,sage,ssex) <span class="keyword">values</span> (<span class="string">'dahan'</span>,<span class="number">22</span>,<span class="string">'m'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student (sname,sage,ssex) <span class="keyword">values</span> (<span class="string">'xiaowei'</span>,<span class="number">23</span>,<span class="string">'m'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student (sname,sage,ssex) <span class="keyword">values</span> (<span class="string">'limei'</span>,<span class="number">23</span>,<span class="string">'w'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student (sname,sage,ssex) <span class="keyword">values</span> (<span class="string">'zhangxin'</span>,<span class="number">23</span>,<span class="string">'w'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student (sname,sage,ssex) <span class="keyword">values</span> (<span class="string">'liyan'</span>,<span class="number">23</span>,<span class="string">'w'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student (sname,sage,ssex) <span class="keyword">values</span> (<span class="string">'qq'</span>,<span class="number">23</span>,<span class="string">'w'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> <span class="keyword">if</span> <span class="keyword">exists</span> teacher;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> teacher(</span><br><span class="line">    tid <span class="built_in">int</span> primary <span class="keyword">key</span> auto_increment <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">    tname <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">unique</span> <span class="keyword">not</span> <span class="literal">null</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> teacher (tname) <span class="keyword">values</span> (<span class="string">'zou'</span>),(<span class="string">'叶平老师'</span>,(<span class="string">'lixiao'</span>));</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> teacher (tname) <span class="keyword">values</span> (<span class="string">'gu'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> <span class="keyword">if</span> <span class="keyword">exists</span> course;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> course(</span><br><span class="line">    cid <span class="built_in">int</span> primary <span class="keyword">key</span> auto_increment <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">    cname <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">default</span> <span class="string">'java'</span>,</span><br><span class="line">    tid <span class="built_in">int</span>,</span><br><span class="line">    <span class="keyword">foreign</span> <span class="keyword">key</span> (tid) <span class="keyword">references</span> teacher(tid) <span class="comment">#not null</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> course (tid) <span class="keyword">values</span> (<span class="number">1</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> course (cname,tid) <span class="keyword">values</span> (<span class="string">'.net'</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> course (cname,tid) <span class="keyword">values</span> (<span class="string">'Jsp'</span>,<span class="number">2</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> course (cname,tid) <span class="keyword">values</span> (<span class="string">'html'</span>,<span class="number">3</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> course (cname) <span class="keyword">values</span> (<span class="string">'ajax'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> <span class="keyword">if</span> <span class="keyword">exists</span> sc;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> sc(</span><br><span class="line">    <span class="keyword">sid</span> <span class="built_in">int</span>,</span><br><span class="line">    cid <span class="built_in">int</span>,</span><br><span class="line">    score <span class="built_in">int</span>,</span><br><span class="line">    primary <span class="keyword">key</span>(<span class="keyword">sid</span>,cid)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> sc;</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc (<span class="keyword">sid</span>,cid,score) <span class="keyword">values</span> (<span class="number">1</span>,<span class="number">1</span>,<span class="number">77</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc (<span class="keyword">sid</span>,cid,score) <span class="keyword">values</span> (<span class="number">1</span>,<span class="number">2</span>,<span class="number">73</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc (<span class="keyword">sid</span>,cid,score) <span class="keyword">values</span> (<span class="number">2</span>,<span class="number">1</span>,<span class="number">87</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc (<span class="keyword">sid</span>,cid,score) <span class="keyword">values</span> (<span class="number">2</span>,<span class="number">2</span>,<span class="number">77</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc (<span class="keyword">sid</span>,cid,score) <span class="keyword">values</span> (<span class="number">3</span>,<span class="number">1</span>,<span class="number">71</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc (<span class="keyword">sid</span>,cid,score) <span class="keyword">values</span> (<span class="number">3</span>,<span class="number">2</span>,<span class="number">72</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc (<span class="keyword">sid</span>,cid,score) <span class="keyword">values</span> (<span class="number">3</span>,<span class="number">3</span>,<span class="number">73</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc (<span class="keyword">sid</span>,cid,score) <span class="keyword">values</span> (<span class="number">4</span>,<span class="number">1</span>,<span class="number">70</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc (<span class="keyword">sid</span>,cid,score) <span class="keyword">values</span> (<span class="number">5</span>,<span class="number">1</span>,<span class="number">71</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc (<span class="keyword">sid</span>,cid,score) <span class="keyword">values</span> (<span class="number">5</span>,<span class="number">2</span>,<span class="number">72</span>);</span><br></pre></td></tr></table></figure>

<p>###表信息一览：<br>学生表：</p>
<blockquote>
<p>student(sid,sname,sage,ssex)</p>
</blockquote>
<p>课程表：</p>
<blockquote>
<p>course(cid,cname,tid)</p>
</blockquote>
<p>教师表：</p>
<blockquote>
<p>teacher(tid,tname)</p>
</blockquote>
<p>成绩表：</p>
<blockquote>
<p>sc(sid,cid,score)</p>
</blockquote>
<h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><ol>
<li>查询 01 课程比 02 课程成绩高的学生的信息以及课程分数</li>
<li>查询平均成绩大于等于 60 分的同学的学生编号和学生姓名和平均成绩</li>
<li>查询所有学生的学号，学生姓名，选课总数，所有课程的总成绩</li>
<li>查询学过 zou 授课的同学的信息</li>
<li>查询学过编号 01 并且也学过编号 02 的课程的同学的信息</li>
<li>查询没有学全所有课程的同学的信息</li>
<li>查询没有学过 zou 讲授的任一一门课程的学生姓名</li>
<li>查询两门及以上&lt;80 分课程的同学的学号，姓名以及其平均成绩</li>
<li>统计各科成绩各分数段的人数:课程编号，课程名称【100-85】【85-70】【70-60】【0-60】</li>
<li>把“SC”表中 zou 教的课的成绩都更改为此课程的平均成绩</li>
<li>不用 max()求学号最大的学生信息</li>
<li>查询和“2”号的同学学习的课程完全相同的其他同学学号和姓名</li>
</ol>
<h3 id="查询基础样式"><a href="#查询基础样式" class="headerlink" title="查询基础样式"></a>查询基础样式</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">select</span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">where</span><br><span class="line">group by</span><br><span class="line">having</span><br><span class="line">order by</span><br><span class="line">limit</span><br></pre></td></tr></table></figure>

<h2 id="解答"><a href="#解答" class="headerlink" title="解答"></a>解答</h2><ol>
<li><p>连表查询</p>
<blockquote>
<p><code>select sid,score from sc where cid = 1;</code><br><code>select sid,score from sc where cid = 2;</code><br><code>select a.sid,a.score,b.score from (select sid,score from sc where cid = 1) a,(select sid,score from sc where cid = 2) b where a.sid = b.sid and a.score &gt; b.score;</code></p>
</blockquote>
<p>或者自连查询</p>
<blockquote>
<p><code>select sc1.sid,sc1.score,sc2.score from sc sc1,sc sc2 where sc1.cid = 1 and sc2.cid = 2 and sc1.sid = sc2.sid and sc1.score &gt; sc2.score;</code></p>
</blockquote>
</li>
<li><blockquote>
<p><code>select s.sid,s.sname,avg(sc.score) from student s,sc where s.sid = sc.sid group by s.sid having avg(sc.score) &gt;= 60;</code></p>
</blockquote>
</li>
<li><blockquote>
<p><code>select s.sid,s.sname,count(sc.cid),sum(sc.score) from student s,sc where s.sid = sc.sid group by s.sid;</code></p>
</blockquote>
</li>
<li><blockquote>
<p><code>select distinct sc.sid from teacher t,course c,sc where t.tid = c.tid and c.cid = sc.cid and t.tname = &#39;zou&#39;;</code><br>—–distinct 查询结果去重 ⬆️ 为嵌套查询，⬇️ 也是，不过优先用上面的<br><code>select distinct sc.sid from sc,(select c.cid from course c,teacher t where c.tid = t.tid and t.tname = &#39;zou&#39;) a where sc.cid = a.cid;</code></p>
</blockquote>
</li>
<li><blockquote>
<p><code>select sc1.sid from sc sc1,sc sc2 where sc1.sid = sc2.sid and sc1.cid = 1 and sc2.cid = 2;</code></p>
</blockquote>
</li>
<li><blockquote>
<p><code>select x.sid,a.tcnt from sc x,(select count(cid) tcnt from course) a group by x.sid having count(x.cid) &lt; a.tcnt-3;</code></p>
</blockquote>
</li>
<li><blockquote>
<p><code>select sname from student where sid not in (select sc.sid from teacher t,course c,sc where sc.cid =c.cid and t.tid = c.tid and t.tname = &#39;zou&#39;);</code></p>
</blockquote>
</li>
<li><blockquote>
<p><code>select s.sname,s.sid,avg(sc.score) from student s,sc,(select sid,count(cid) cnt from sc where sc.score &lt; 80 group by sid having count(cid) &gt;= 2) a where s.sid = a.sid and s.sid = sc.sid group by s.sid;</code></p>
</blockquote>
</li>
<li><blockquote>
<p><code>select cid, sum(case when score &gt;= 85 then 1 else 0 end) &#39;【100-85】&#39;, sum(case when score &gt;= 70 and score &lt; 85 then 1 else 0 end) &#39;【85-70】&#39;, sum(case when score &gt;= 60 and score &lt; 70 then 1 else 0 end) &#39;【70-60】&#39;, sum(case when score &lt;60 then 1 else 0 end) &#39;【60-0】&#39; from sc group by cid;</code></p>
</blockquote>
</li>
<li><blockquote>
<p><code>update sc,(select sc.cid,c.cname,avg(sc.score) ag from sc,course c,teacher t where sc.cid = c.cid and c.tid = t.tid and t.tname = &#39;zou&#39; group by sc.cid) a set sc.score = a.ag where sc.cid = a.cid;</code></p>
</blockquote>
</li>
<li><blockquote>
<p><code>select * from student order by sid desc limit 0,1;</code></p>
</blockquote>
</li>
<li><blockquote>
<p><code>select sid,count(sc.cid) ant from sc group by sid having count(cid) = (select count(cid) from sc where sid = 2);</code><br>——-查询选课数与 id 为 2 的学生数量一致<br><code>select sid,count(cid) bnt from sc where cid in (select cid from sc where sid = 2) group by sid;</code><br>——-查询选课为 id 为 2 的学生所选课相同的学生<br><code>select a.sid from (select sid,count(sc.cid) ant from sc group by sid having count(cid) = (select count(cid) from sc where sid = 2)) a,(select sid,count(cid) bnt from sc where cid in (select cid from sc where sid = 2) group by sid) b where a.sid = b.sid and a.ant = b.bnt and a.sid != 2;</code></p>
</blockquote>
</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/07/OnJava8%E8%AE%B0%E5%BD%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="hhy">
      <meta itemprop="description" content="比昨天更好">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="汇源果汁吖！">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/07/OnJava8%E8%AE%B0%E5%BD%95/" class="post-title-link" itemprop="url">2020-05-11   graduation问题</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-06-07 22:57:52 / 修改时间：23:09:22" itemprop="dateCreated datePublished" datetime="2020-06-07T22:57:52+08:00">2020-06-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%A1%B9%E7%9B%AE/" itemprop="url" rel="index"><span itemprop="name">项目</span></a>
                </span>
            </span>

          
            <span id="/2020/06/07/OnJava8%E8%AE%B0%E5%BD%95/" class="post-meta-item leancloud_visitors" data-flag-title="2020-05-11   graduation问题" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/06/07/OnJava8%E8%AE%B0%E5%BD%95/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/06/07/OnJava8%E8%AE%B0%E5%BD%95/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>95</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="一、对象的概念"><a href="#一、对象的概念" class="headerlink" title="一、对象的概念"></a>一、对象的概念</h1><ul>
<li>我们可以一开始使用 LinkedList 构建程序，在优化系统性能时改用 ArrayList。通过对 List 接口的抽象，我们可以很容易地将 LinkedList 改为 ArrayList。</li>
<li></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/07/%E8%BF%99%E4%BA%9B%E5%B9%B4%E7%BB%88%E4%BA%8E%E6%87%82%E4%BA%86%E7%9A%84%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="hhy">
      <meta itemprop="description" content="比昨天更好">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="汇源果汁吖！">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/07/%E8%BF%99%E4%BA%9B%E5%B9%B4%E7%BB%88%E4%BA%8E%E6%87%82%E4%BA%86%E7%9A%84%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">2020-05-11   graduation问题</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-06-07 22:57:52 / 修改时间：23:07:25" itemprop="dateCreated datePublished" datetime="2020-06-07T22:57:52+08:00">2020-06-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%A1%B9%E7%9B%AE/" itemprop="url" rel="index"><span itemprop="name">项目</span></a>
                </span>
            </span>

          
            <span id="/2020/06/07/%E8%BF%99%E4%BA%9B%E5%B9%B4%E7%BB%88%E4%BA%8E%E6%87%82%E4%BA%86%E7%9A%84%E9%97%AE%E9%A2%98/" class="post-meta-item leancloud_visitors" data-flag-title="2020-05-11   graduation问题" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/06/07/%E8%BF%99%E4%BA%9B%E5%B9%B4%E7%BB%88%E4%BA%8E%E6%87%82%E4%BA%86%E7%9A%84%E9%97%AE%E9%A2%98/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/06/07/%E8%BF%99%E4%BA%9B%E5%B9%B4%E7%BB%88%E4%BA%8E%E6%87%82%E4%BA%86%E7%9A%84%E9%97%AE%E9%A2%98/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>354</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ol>
<li>为什么重写了equals()必须重写hashCode()？</li>
</ol>
<blockquote>
<p><strong>我们先以“HashSet 如何检查重复”为例子来说明为什么要有 hashCode：</strong> 当你把对象加入 HashSet 时，HashSet 会先计算对象的 hashcode 值来判断对象加入的位置，同时也会与该位置其他已经加入的对象的 hashcode 值作比较，如果没有相符的 hashcode，HashSet 会假设对象没有重复出现。但是如果发现有相同 hashcode 值的对象，这时会调用 <code>equals()</code>方法来检查 hashcode 相等的对象是否真的相同。如果两者相同，HashSet 就不会让其加入操作成功。如果不同的话，就会重新散列到其他位置。（摘自我的 Java 启蒙书《Head first java》第二版）。这样我们就大大减少了 equals 的次数，相应就大大提高了执行速度。</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/07/%E9%82%AE%E7%AE%B1%E9%AA%8C%E8%AF%81/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="hhy">
      <meta itemprop="description" content="比昨天更好">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="汇源果汁吖！">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/07/%E9%82%AE%E7%AE%B1%E9%AA%8C%E8%AF%81/" class="post-title-link" itemprop="url">2020-05-11   graduation问题</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-06-07 22:57:52 / 修改时间：23:07:06" itemprop="dateCreated datePublished" datetime="2020-06-07T22:57:52+08:00">2020-06-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%A1%B9%E7%9B%AE/" itemprop="url" rel="index"><span itemprop="name">项目</span></a>
                </span>
            </span>

          
            <span id="/2020/06/07/%E9%82%AE%E7%AE%B1%E9%AA%8C%E8%AF%81/" class="post-meta-item leancloud_visitors" data-flag-title="2020-05-11   graduation问题" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/06/07/%E9%82%AE%E7%AE%B1%E9%AA%8C%E8%AF%81/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/06/07/%E9%82%AE%E7%AE%B1%E9%AA%8C%E8%AF%81/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>853</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ol>
<li><p>了解一下邮箱</p>
<ol>
<li><p>基础知识</p>
<blockquote>
<p>什么是SMTP？SMTP全称为Simple Mail Transfer Protocol（简单邮件传输协议），它是一组用于从源地址到目的地址传输邮件的规范，通过它来控制邮件的中转方式。SMTP认证要求必须提供账号和密码才能登陆服务器，其设计目的在于避免用户受到垃圾邮件的侵扰。<br>什么是IMAP？IMAP全称为Internet Message Access Protocol（互联网邮件访问协议），IMAP允许从邮件服务器上获取邮件的信息、下载邮件等。IMAP与POP类似，都是一种邮件获取协议。<br>什么是POP3？POP3全称为Post Office Protocol 3（邮局协议），POP3支持客户端远程管理服务器端的邮件。POP3常用于“离线”邮件处理，即允许客户端下载服务器邮件，然后服务器上的邮件将会被删除。目前很多POP3的邮件服务器只提供下载邮件功能，服务器本身并不删除邮件，这种属于改进版的POP3协议。</p>
</blockquote>
</li>
<li><p>进阶知识</p>
<blockquote>
<p>什么是JavaMailSender和JavaMailSenderImpl？javaMailSender和JavaMailSenderImpl是Spring官方提供的集成邮件服务的接口和实现类，以简单高效的设计著称，目前是Java后端发送邮件和集成邮件服务的主流工具。</p>
<p>如何通过JavaMailSenderImpl发送邮件？非常简单，直接在业务类注入JavaMailSenderImpl并调用send方法发送邮件。其中简单邮件可以通过SimpleMailMessage来发送邮件，而复杂的邮件（例如添加附件）可以借助MimeMessageHelper来构建MimeMessage发送邮件。</p>
</blockquote>
</li>
</ol>
</li>
</ol>
<pre><code>————————————————
版权声明：本文为CSDN博主「jiuyueblog」的原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接及本声明。
原文链接：https://blog.csdn.net/qq_37745470/java/article/details/89094227</code></pre>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/07/Linux%E5%9F%BA%E6%93%8D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="hhy">
      <meta itemprop="description" content="比昨天更好">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="汇源果汁吖！">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/07/Linux%E5%9F%BA%E6%93%8D/" class="post-title-link" itemprop="url">2020-05-11   graduation问题</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-06-07 22:57:52 / 修改时间：23:08:52" itemprop="dateCreated datePublished" datetime="2020-06-07T22:57:52+08:00">2020-06-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%A1%B9%E7%9B%AE/" itemprop="url" rel="index"><span itemprop="name">项目</span></a>
                </span>
            </span>

          
            <span id="/2020/06/07/Linux%E5%9F%BA%E6%93%8D/" class="post-meta-item leancloud_visitors" data-flag-title="2020-05-11   graduation问题" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/06/07/Linux%E5%9F%BA%E6%93%8D/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/06/07/Linux%E5%9F%BA%E6%93%8D/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.3k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>2 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><p>现在没啥好说的</p>
<h2 id="安装软件"><a href="#安装软件" class="headerlink" title="安装软件"></a>安装软件</h2><h3 id="jdk"><a href="#jdk" class="headerlink" title="jdk"></a>jdk</h3><ol>
<li>在java官网下载linux版本的jdk（mac可以使用自带终端的新建shell来新建一个SFTP链接上传文件到linux服务器）</li>
<li>安装到指定目录 tar -zvxf jdk-linux-xxx.tar.gz -c /usr/local/java</li>
<li>使用java -version 命令来查看是否安装成功</li>
</ol>
<h3 id="tomcat"><a href="#tomcat" class="headerlink" title="tomcat"></a>tomcat</h3><ol>
<li>下载tomcat文件</li>
<li>解压到/opt/</li>
<li>修改/opt/apache-tomcat-XXX/conf/server.xml，在<host>里面添加<Context path="/dubbo" docBase="/opt/dubbo" debug="0" privileged="true"/></li>
<li>启动tomcat，sh /opt/apache-tomcat-XXX/bin/startup.sh</li>
<li>关闭tomcat，sh /opt/apache-tomcat-XXX/bin/shutdown.sh</li>
</ol>
<h3 id="dubbo-javaweb"><a href="#dubbo-javaweb" class="headerlink" title="dubbo-javaweb"></a>dubbo-javaweb</h3><p>由于是war包，直接使用unzip命令，unzip dubbo-javaweb.war -d /opt/dubbo</p>
<h3 id="zookeeper"><a href="#zookeeper" class="headerlink" title="zookeeper"></a>zookeeper</h3><ol>
<li><p>解压zookeeper文件</p>
</li>
<li><p>修改zoo.cfg vi /opt/zookeeper-XXX/conf/zoo.cfg，修改datadir为/opt/zookeeper-XXX/data</p>
</li>
<li><p>启动zookeeper</p>
<blockquote>
<p> /opt/zookeeper-XXX/bin/zkServer.sh start<br>./zkServer.sh status</p>
</blockquote>
</li>
<li><p>ps -ef ｜ grep zookeeper 查看进程</p>
</li>
</ol>
<p>此时直接在虚拟机打开localhost:8080/dubbo可以访问dubbo-javaweb页面</p>
<p><strong>解决mac上不能通过虚拟机内网地址访问tomcat问题—&gt;</strong></p>
<blockquote>
<p>sudo firewall-cmd –zone=public –add-port=8080/tcp –permanent</p>
<p>sudo firewall-cmd –reload </p>
<p>sudo firewall-cmd –list-ports</p>
<p><a href="https://blog.csdn.net/asahinokawa/article/details/82285390" target="_blank" rel="noopener">参考链接</a></p>
</blockquote>
<h3 id="设置自启动"><a href="#设置自启动" class="headerlink" title="设置自启动"></a>设置自启动</h3><ol>
<li>脚本</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line"> vi /etc/init.d/zookeeper</span><br><span class="line"><span class="meta"> #</span><span class="bash"> bash脚本</span></span><br><span class="line"> </span><br><span class="line"><span class="meta"> #</span><span class="bash">!/bin/bash</span></span><br><span class="line"><span class="meta">#</span><span class="bash">chkconfig:2345 20 90</span></span><br><span class="line"><span class="meta">#</span><span class="bash">description:zookeeper</span></span><br><span class="line"><span class="meta">#</span><span class="bash">processname:zookeeper</span></span><br><span class="line">ZK_PATH=/opt/zookeeper</span><br><span class="line">export JAVA_HOME=/opt/jdk1.8.0_152</span><br><span class="line">case $1 in</span><br><span class="line">         start) sh  $ZK_PATH/bin/zkServer.sh start;;</span><br><span class="line">         stop)  sh  $ZK_PATH/bin/zkServer.sh stop;;</span><br><span class="line">         status) sh  $ZK_PATH/bin/zkServer.sh status;;</span><br><span class="line">         restart) sh $ZK_PATH/bin/zkServer.sh restart;;</span><br><span class="line">         *)  echo "require start|stop|status|restart"  ;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>添加服务</li>
</ol>
<figure class="highlight sh"><figcaption><span>h</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chkconfig --add /etc/init.d/zookeeper</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>查看服务</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chkconfig --list</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>给自启文件添加可执行权限</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x /etc/init.d/zookeeper</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>重启，查看是否重启</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo reboot</span><br><span class="line">.............等待重启</span><br><span class="line"><span class="meta">#</span><span class="bash"> 简单查看java进程</span></span><br><span class="line">jps  </span><br><span class="line"><span class="meta">#</span><span class="bash">查看具体进程</span></span><br><span class="line">ps -ef | grep tomcat</span><br><span class="line">ps -ef | grep zookeeper</span><br></pre></td></tr></table></figure>



<h3 id="fastdfs-？？？"><a href="#fastdfs-？？？" class="headerlink" title="fastdfs ？？？"></a>fastdfs ？？？</h3><ol>
<li>fdfs依赖库–libfastcommon</li>
<li>fastdfs软件（tracker、stroage）–tracker依赖Gcc、libevent、perl</li>
<li>FastDFS-nginx-module –fdfs整合nginx的插件</li>
<li>nginx –做web服务器，提供http请求访问服务–依赖pc re-devel、zlib-devel</li>
</ol>
<h3 id="nginx可以了解一下？？？？"><a href="#nginx可以了解一下？？？？" class="headerlink" title="nginx可以了解一下？？？？"></a>nginx可以了解一下？？？？</h3><h3 id="elastissearch"><a href="#elastissearch" class="headerlink" title="elastissearch"></a>elastissearch</h3><ol>
<li><p>解压后在config/jvm.options（jvm配置）中配置机器内存大小</p>
</li>
<li><p>elasticsearch.yml（集群配置）中配置host</p>
</li>
<li><p>启动后报错（linux默认线程数，最大文件数，最大内存数不够）</p>
<blockquote>
<p>ERROR: [2] bootstrap checks failed<br>[1]: max file descriptors [4096] for elasticsearch process is too low, increase to at least [65536]<br>[2]: max virtual memory areas vm.max_map_count [65530] is too low, increase to at least [262144]</p>
</blockquote>
<p>解决—-</p>
<ol>
<li><p>修改linux 的 limits配置文件，设置内存线程和文件数</p>
<blockquote>
<p>vim /etc/security/limits.conf</p>
<p>在末尾添加</p>
<p>* hard nofile 655360</p>
<p>* soft nofile 131072</p>
<p>* hard nproc 4096</p>
<p>* soft nproc 2048</p>
</blockquote>
</li>
<li><p>修改linux的 systemctl配置文件</p>
<blockquote>
<p>vim /etc/sysctl.conf</p>
<p>添加</p>
<p>vm.max_map_count=655360</p>
<p>fs.file-max=655360</p>
</blockquote>
</li>
</ol>
</li>
</ol>
<h4 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h4><p>通过http的9200端口以JSON进行交互</p>
<p>基本概念</p>
<ul>
<li>index 库</li>
<li>type 表</li>
<li>document 一条数据</li>
<li>field 属性</li>
</ul>
<h3 id="kibana"><a href="#kibana" class="headerlink" title="kibana"></a>kibana</h3><p>直接解压</p>
<p>修改config/kibana.yml</p>
<p>server.host: “0.0.0.0”</p>
<p>xxxx.url:”192.168.123.27:9200”</p>
<p>启动后端口号 5601</p>
<p><strong>nohup？？？？？</strong></p>
<blockquote>
<p>nohup ./kibana &amp;</p>
</blockquote>
<ul>
<li>PUT</li>
<li>DELETE</li>
<li>POST</li>
<li>GET</li>
<li>HEAD</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/07/Java%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE%20/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="hhy">
      <meta itemprop="description" content="比昨天更好">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="汇源果汁吖！">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/07/Java%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE%20/" class="post-title-link" itemprop="url">2020-05-11   graduation问题</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-06-07 22:57:52 / 修改时间：23:08:43" itemprop="dateCreated datePublished" datetime="2020-06-07T22:57:52+08:00">2020-06-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%A1%B9%E7%9B%AE/" itemprop="url" rel="index"><span itemprop="name">项目</span></a>
                </span>
            </span>

          
            <span id="/2020/06/07/Java%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE%20/" class="post-meta-item leancloud_visitors" data-flag-title="2020-05-11   graduation问题" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/06/07/Java%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE%20/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/06/07/Java%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE%20/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.1k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="能学到啥？"><a href="#能学到啥？" class="headerlink" title="能学到啥？"></a>能学到啥？</h1><p>应对大并发</p>
<ul>
<li>如何利用缓存</li>
<li>如何使用异步</li>
<li>如何编写优雅的代码</li>
</ul>
<h1 id="项目框架"><a href="#项目框架" class="headerlink" title="项目框架"></a>项目框架</h1><ul>
<li>Spring Boot</li>
<li>集成 Thymeleaf，Result 结果封装</li>
<li>集成 Mybatis+Druid</li>
<li>集成 Jedis+redis 安装+通用缓存 Key 封装</li>
</ul>
<h2 id="环境搭建"><a href="#环境搭建" class="headerlink" title="环境搭建"></a>环境搭建</h2><ol>
<li>maven</li>
<li>org.springframework.boot–parent</li>
<li>spring-boot-starter-web</li>
<li>spring-boot-starter-thymeleaf</li>
<li>mybatis-spring-boot-starter</li>
<li>mysql</li>
<li>com.alibaba,druid</li>
</ol>
<h3 id="redis-安装"><a href="#redis-安装" class="headerlink" title="redis 安装"></a>redis 安装</h3><ol>
<li>download redis.xxx.tar.gz</li>
<li>linux 服务器（此处可使用虚拟机安装 centos）<code>tar -zvxf redis.xxx.tar.gz</code></li>
<li><code>mv redis.xxx.tar.gz /usr/local/redis</code> //移动后重命名为 redis 目录</li>
<li><code>cd /usr/local/redis</code></li>
<li><code>make -j 4</code> //用 4 个线程</li>
<li><code>make install</code></li>
<li><code>vim redis.conf</code> //修改 bind ip，daemonize yes 运行后台运行，requirepass 密码，设置密码后使用 redis-cli 需要使用 auth pass 才能 get key</li>
<li><code>redis-server ./redis.conf</code> //使用 redis.conf 的配置启动 redis 服务</li>
<li><code>ps -ef | grep redis</code> //查看 redis 进程</li>
<li><code>redis-cli</code> //连接 redis 服务</li>
<li><code>cd utils &amp;&amp; ./install_server.sh</code> //生成系统服务 /usr/local/redis/redis.conf,/usr/local/redis/redis.log,/usr/local/redis/data,/usr/local/bin/redis-server</li>
<li><code>systemctl status redis_6379</code> //查看 redis 服务状态</li>
<li><code>vim /etc/init.d/redis_6379</code> // 执行 shell 文件自动生成的，可在其中修改服务名。</li>
<li><code>redis-cli,auth pass,shutdown save</code>关闭 redis 服务</li>
</ol>
<h4 id="集成-redis"><a href="#集成-redis" class="headerlink" title="集成 redis"></a>集成 redis</h4><ol>
<li>添加 Jedis 依赖<br>添加 Fastjson 依赖</li>
<li>读取配置文件 config –RedisConfig 类</li>
<li>配置 JedisPool，写 service，把接口定义好</li>
<li>通过 KeyPrefix 把各个模块做一个区分 ⬇️⬇️</li>
</ol>
<p><strong><em>通用缓存 key 封装\</em></strong></p>
<p>接口类 &lt;– 抽象类 &lt;– 实现类</p>
<h1 id="登录功能"><a href="#登录功能" class="headerlink" title="登录功能"></a>登录功能</h1><h3 id="数据库设计"><a href="#数据库设计" class="headerlink" title="数据库设计"></a>数据库设计</h3><h3 id="明文密码两次-MD5-处理"><a href="#明文密码两次-MD5-处理" class="headerlink" title="明文密码两次 MD5 处理"></a>明文密码两次 MD5 处理</h3><ol>
<li>用户端：pass = MD5（明文+固定 salt）</li>
<li>服务端：pass = MD5（用户输入+随机 salt）</li>
</ol>
<h3 id="JSR303-参数检验-全局异常处理"><a href="#JSR303-参数检验-全局异常处理" class="headerlink" title="JSR303 参数检验+全局异常处理"></a>JSR303 参数检验+全局异常处理</h3><h3 id="分布式-session"><a href="#分布式-session" class="headerlink" title="分布式 session"></a>分布式 session</h3>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/07/Redis:Could%20not%20get%20a%20resource%20from%20the%20pool%20/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="hhy">
      <meta itemprop="description" content="比昨天更好">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="汇源果汁吖！">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/07/Redis:Could%20not%20get%20a%20resource%20from%20the%20pool%20/" class="post-title-link" itemprop="url">2020-05-11   graduation问题</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-06-07 22:57:52 / 修改时间：23:09:32" itemprop="dateCreated datePublished" datetime="2020-06-07T22:57:52+08:00">2020-06-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%A1%B9%E7%9B%AE/" itemprop="url" rel="index"><span itemprop="name">项目</span></a>
                </span>
            </span>

          
            <span id="/2020/06/07/Redis:Could%20not%20get%20a%20resource%20from%20the%20pool%20/" class="post-meta-item leancloud_visitors" data-flag-title="2020-05-11   graduation问题" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/06/07/Redis:Could%20not%20get%20a%20resource%20from%20the%20pool%20/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/06/07/Redis:Could%20not%20get%20a%20resource%20from%20the%20pool%20/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>7.5k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>7 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="报错"><a href="#报错" class="headerlink" title="报错"></a>报错</h1><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">redis<span class="selector-class">.clients</span><span class="selector-class">.jedis</span><span class="selector-class">.exceptions</span><span class="selector-class">.JedisConnectionException</span>: Could not get <span class="selector-tag">a</span> resource from the pool</span><br><span class="line">	at redis<span class="selector-class">.clients</span><span class="selector-class">.util</span><span class="selector-class">.Pool</span>.getResource(Pool<span class="selector-class">.java</span>:<span class="number">53</span>)</span><br><span class="line">	at redis<span class="selector-class">.clients</span><span class="selector-class">.jedis</span><span class="selector-class">.JedisPool</span>.getResource(JedisPool<span class="selector-class">.java</span>:<span class="number">226</span>)</span><br><span class="line">	at com<span class="selector-class">.imooc</span><span class="selector-class">.miaosha</span><span class="selector-class">.redis</span><span class="selector-class">.RedisService</span>.get(RedisService<span class="selector-class">.java</span>:<span class="number">26</span>)</span><br><span class="line">	at com<span class="selector-class">.imooc</span><span class="selector-class">.miaosha</span><span class="selector-class">.controller</span><span class="selector-class">.SampleController</span>.redisGet(SampleController<span class="selector-class">.java</span>:<span class="number">35</span>)</span><br><span class="line">	at sun<span class="selector-class">.reflect</span><span class="selector-class">.NativeMethodAccessorImpl</span>.invoke0(Native Method)</span><br><span class="line">	at sun<span class="selector-class">.reflect</span><span class="selector-class">.NativeMethodAccessorImpl</span>.invoke(NativeMethodAccessorImpl<span class="selector-class">.java</span>:<span class="number">62</span>)</span><br><span class="line">	at sun<span class="selector-class">.reflect</span><span class="selector-class">.DelegatingMethodAccessorImpl</span>.invoke(DelegatingMethodAccessorImpl<span class="selector-class">.java</span>:<span class="number">43</span>)</span><br><span class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span>.invoke(Method<span class="selector-class">.java</span>:<span class="number">498</span>)</span><br><span class="line">	at org<span class="selector-class">.springframework</span><span class="selector-class">.web</span><span class="selector-class">.method</span><span class="selector-class">.support</span><span class="selector-class">.InvocableHandlerMethod</span>.doInvoke(InvocableHandlerMethod<span class="selector-class">.java</span>:<span class="number">205</span>)</span><br><span class="line">	at org<span class="selector-class">.springframework</span><span class="selector-class">.web</span><span class="selector-class">.method</span><span class="selector-class">.support</span><span class="selector-class">.InvocableHandlerMethod</span>.invokeForRequest(InvocableHandlerMethod<span class="selector-class">.java</span>:<span class="number">133</span>)</span><br><span class="line">	at org<span class="selector-class">.springframework</span><span class="selector-class">.web</span><span class="selector-class">.servlet</span><span class="selector-class">.mvc</span><span class="selector-class">.method</span><span class="selector-class">.annotation</span><span class="selector-class">.ServletInvocableHandlerMethod</span>.invokeAndHandle(ServletInvocableHandlerMethod<span class="selector-class">.java</span>:<span class="number">97</span>)</span><br><span class="line">	at org<span class="selector-class">.springframework</span><span class="selector-class">.web</span><span class="selector-class">.servlet</span><span class="selector-class">.mvc</span><span class="selector-class">.method</span><span class="selector-class">.annotation</span><span class="selector-class">.RequestMappingHandlerAdapter</span>.invokeHandlerMethod(RequestMappingHandlerAdapter<span class="selector-class">.java</span>:<span class="number">827</span>)</span><br><span class="line">	at org<span class="selector-class">.springframework</span><span class="selector-class">.web</span><span class="selector-class">.servlet</span><span class="selector-class">.mvc</span><span class="selector-class">.method</span><span class="selector-class">.annotation</span><span class="selector-class">.RequestMappingHandlerAdapter</span>.handleInternal(RequestMappingHandlerAdapter<span class="selector-class">.java</span>:<span class="number">738</span>)</span><br><span class="line">	at org<span class="selector-class">.springframework</span><span class="selector-class">.web</span><span class="selector-class">.servlet</span><span class="selector-class">.mvc</span><span class="selector-class">.method</span><span class="selector-class">.AbstractHandlerMethodAdapter</span>.handle(AbstractHandlerMethodAdapter<span class="selector-class">.java</span>:<span class="number">85</span>)</span><br><span class="line">	at org<span class="selector-class">.springframework</span><span class="selector-class">.web</span><span class="selector-class">.servlet</span><span class="selector-class">.DispatcherServlet</span>.doDispatch(DispatcherServlet<span class="selector-class">.java</span>:<span class="number">967</span>)</span><br><span class="line">	at org<span class="selector-class">.springframework</span><span class="selector-class">.web</span><span class="selector-class">.servlet</span><span class="selector-class">.DispatcherServlet</span>.doService(DispatcherServlet<span class="selector-class">.java</span>:<span class="number">901</span>)</span><br><span class="line">	at org<span class="selector-class">.springframework</span><span class="selector-class">.web</span><span class="selector-class">.servlet</span><span class="selector-class">.FrameworkServlet</span>.processRequest(FrameworkServlet<span class="selector-class">.java</span>:<span class="number">970</span>)</span><br><span class="line">	at org<span class="selector-class">.springframework</span><span class="selector-class">.web</span><span class="selector-class">.servlet</span><span class="selector-class">.FrameworkServlet</span>.doGet(FrameworkServlet<span class="selector-class">.java</span>:<span class="number">861</span>)</span><br><span class="line">	at javax<span class="selector-class">.servlet</span><span class="selector-class">.http</span><span class="selector-class">.HttpServlet</span>.service(HttpServlet<span class="selector-class">.java</span>:<span class="number">635</span>)</span><br><span class="line">	at org<span class="selector-class">.springframework</span><span class="selector-class">.web</span><span class="selector-class">.servlet</span><span class="selector-class">.FrameworkServlet</span>.service(FrameworkServlet<span class="selector-class">.java</span>:<span class="number">846</span>)</span><br><span class="line">	at javax<span class="selector-class">.servlet</span><span class="selector-class">.http</span><span class="selector-class">.HttpServlet</span>.service(HttpServlet<span class="selector-class">.java</span>:<span class="number">742</span>)</span><br><span class="line">	at org<span class="selector-class">.apache</span><span class="selector-class">.catalina</span><span class="selector-class">.core</span><span class="selector-class">.ApplicationFilterChain</span>.internalDoFilter(ApplicationFilterChain<span class="selector-class">.java</span>:<span class="number">231</span>)</span><br><span class="line">	at org<span class="selector-class">.apache</span><span class="selector-class">.catalina</span><span class="selector-class">.core</span><span class="selector-class">.ApplicationFilterChain</span>.doFilter(ApplicationFilterChain<span class="selector-class">.java</span>:<span class="number">166</span>)</span><br><span class="line">	at org<span class="selector-class">.apache</span><span class="selector-class">.tomcat</span><span class="selector-class">.websocket</span><span class="selector-class">.server</span><span class="selector-class">.WsFilter</span>.doFilter(WsFilter<span class="selector-class">.java</span>:<span class="number">52</span>)</span><br><span class="line">	at org<span class="selector-class">.apache</span><span class="selector-class">.catalina</span><span class="selector-class">.core</span><span class="selector-class">.ApplicationFilterChain</span>.internalDoFilter(ApplicationFilterChain<span class="selector-class">.java</span>:<span class="number">193</span>)</span><br><span class="line">	at org<span class="selector-class">.apache</span><span class="selector-class">.catalina</span><span class="selector-class">.core</span><span class="selector-class">.ApplicationFilterChain</span>.doFilter(ApplicationFilterChain<span class="selector-class">.java</span>:<span class="number">166</span>)</span><br><span class="line">	at org<span class="selector-class">.springframework</span><span class="selector-class">.web</span><span class="selector-class">.filter</span><span class="selector-class">.RequestContextFilter</span>.doFilterInternal(RequestContextFilter<span class="selector-class">.java</span>:<span class="number">99</span>)</span><br><span class="line">	at org<span class="selector-class">.springframework</span><span class="selector-class">.web</span><span class="selector-class">.filter</span><span class="selector-class">.OncePerRequestFilter</span>.doFilter(OncePerRequestFilter<span class="selector-class">.java</span>:<span class="number">107</span>)</span><br><span class="line">	at org<span class="selector-class">.apache</span><span class="selector-class">.catalina</span><span class="selector-class">.core</span><span class="selector-class">.ApplicationFilterChain</span>.internalDoFilter(ApplicationFilterChain<span class="selector-class">.java</span>:<span class="number">193</span>)</span><br><span class="line">	at org<span class="selector-class">.apache</span><span class="selector-class">.catalina</span><span class="selector-class">.core</span><span class="selector-class">.ApplicationFilterChain</span>.doFilter(ApplicationFilterChain<span class="selector-class">.java</span>:<span class="number">166</span>)</span><br><span class="line">	at org<span class="selector-class">.springframework</span><span class="selector-class">.web</span><span class="selector-class">.filter</span><span class="selector-class">.HttpPutFormContentFilter</span>.doFilterInternal(HttpPutFormContentFilter<span class="selector-class">.java</span>:<span class="number">108</span>)</span><br><span class="line">	at org<span class="selector-class">.springframework</span><span class="selector-class">.web</span><span class="selector-class">.filter</span><span class="selector-class">.OncePerRequestFilter</span>.doFilter(OncePerRequestFilter<span class="selector-class">.java</span>:<span class="number">107</span>)</span><br><span class="line">	at org<span class="selector-class">.apache</span><span class="selector-class">.catalina</span><span class="selector-class">.core</span><span class="selector-class">.ApplicationFilterChain</span>.internalDoFilter(ApplicationFilterChain<span class="selector-class">.java</span>:<span class="number">193</span>)</span><br><span class="line">	at org<span class="selector-class">.apache</span><span class="selector-class">.catalina</span><span class="selector-class">.core</span><span class="selector-class">.ApplicationFilterChain</span>.doFilter(ApplicationFilterChain<span class="selector-class">.java</span>:<span class="number">166</span>)</span><br><span class="line">	at org<span class="selector-class">.springframework</span><span class="selector-class">.web</span><span class="selector-class">.filter</span><span class="selector-class">.HiddenHttpMethodFilter</span>.doFilterInternal(HiddenHttpMethodFilter<span class="selector-class">.java</span>:<span class="number">81</span>)</span><br><span class="line">	at org<span class="selector-class">.springframework</span><span class="selector-class">.web</span><span class="selector-class">.filter</span><span class="selector-class">.OncePerRequestFilter</span>.doFilter(OncePerRequestFilter<span class="selector-class">.java</span>:<span class="number">107</span>)</span><br><span class="line">	at org<span class="selector-class">.apache</span><span class="selector-class">.catalina</span><span class="selector-class">.core</span><span class="selector-class">.ApplicationFilterChain</span>.internalDoFilter(ApplicationFilterChain<span class="selector-class">.java</span>:<span class="number">193</span>)</span><br><span class="line">	at org<span class="selector-class">.apache</span><span class="selector-class">.catalina</span><span class="selector-class">.core</span><span class="selector-class">.ApplicationFilterChain</span>.doFilter(ApplicationFilterChain<span class="selector-class">.java</span>:<span class="number">166</span>)</span><br><span class="line">	at org<span class="selector-class">.springframework</span><span class="selector-class">.web</span><span class="selector-class">.filter</span><span class="selector-class">.CharacterEncodingFilter</span>.doFilterInternal(CharacterEncodingFilter<span class="selector-class">.java</span>:<span class="number">197</span>)</span><br><span class="line">	at org<span class="selector-class">.springframework</span><span class="selector-class">.web</span><span class="selector-class">.filter</span><span class="selector-class">.OncePerRequestFilter</span>.doFilter(OncePerRequestFilter<span class="selector-class">.java</span>:<span class="number">107</span>)</span><br><span class="line">	at org<span class="selector-class">.apache</span><span class="selector-class">.catalina</span><span class="selector-class">.core</span><span class="selector-class">.ApplicationFilterChain</span>.internalDoFilter(ApplicationFilterChain<span class="selector-class">.java</span>:<span class="number">193</span>)</span><br><span class="line">	at org<span class="selector-class">.apache</span><span class="selector-class">.catalina</span><span class="selector-class">.core</span><span class="selector-class">.ApplicationFilterChain</span>.doFilter(ApplicationFilterChain<span class="selector-class">.java</span>:<span class="number">166</span>)</span><br><span class="line">	at org<span class="selector-class">.apache</span><span class="selector-class">.catalina</span><span class="selector-class">.core</span><span class="selector-class">.StandardWrapperValve</span>.invoke(StandardWrapperValve<span class="selector-class">.java</span>:<span class="number">199</span>)</span><br><span class="line">	at org<span class="selector-class">.apache</span><span class="selector-class">.catalina</span><span class="selector-class">.core</span><span class="selector-class">.StandardContextValve</span>.invoke(StandardContextValve<span class="selector-class">.java</span>:<span class="number">96</span>)</span><br><span class="line">	at org<span class="selector-class">.apache</span><span class="selector-class">.catalina</span><span class="selector-class">.authenticator</span><span class="selector-class">.AuthenticatorBase</span>.invoke(AuthenticatorBase<span class="selector-class">.java</span>:<span class="number">478</span>)</span><br><span class="line">	at org<span class="selector-class">.apache</span><span class="selector-class">.catalina</span><span class="selector-class">.core</span><span class="selector-class">.StandardHostValve</span>.invoke(StandardHostValve<span class="selector-class">.java</span>:<span class="number">140</span>)</span><br><span class="line">	at org<span class="selector-class">.apache</span><span class="selector-class">.catalina</span><span class="selector-class">.valves</span><span class="selector-class">.ErrorReportValve</span>.invoke(ErrorReportValve<span class="selector-class">.java</span>:<span class="number">81</span>)</span><br><span class="line">	at org<span class="selector-class">.apache</span><span class="selector-class">.catalina</span><span class="selector-class">.core</span><span class="selector-class">.StandardEngineValve</span>.invoke(StandardEngineValve<span class="selector-class">.java</span>:<span class="number">87</span>)</span><br><span class="line">	at org<span class="selector-class">.apache</span><span class="selector-class">.catalina</span><span class="selector-class">.connector</span><span class="selector-class">.CoyoteAdapter</span>.service(CoyoteAdapter<span class="selector-class">.java</span>:<span class="number">342</span>)</span><br><span class="line">	at org<span class="selector-class">.apache</span><span class="selector-class">.coyote</span><span class="selector-class">.http11</span><span class="selector-class">.Http11Processor</span>.service(Http11Processor<span class="selector-class">.java</span>:<span class="number">803</span>)</span><br><span class="line">	at org<span class="selector-class">.apache</span><span class="selector-class">.coyote</span><span class="selector-class">.AbstractProcessorLight</span>.process(AbstractProcessorLight<span class="selector-class">.java</span>:<span class="number">66</span>)</span><br><span class="line">	at org<span class="selector-class">.apache</span><span class="selector-class">.coyote</span>.AbstractProtocol<span class="variable">$ConnectionHandler</span>.process(AbstractProtocol<span class="selector-class">.java</span>:<span class="number">868</span>)</span><br><span class="line">	at org<span class="selector-class">.apache</span><span class="selector-class">.tomcat</span><span class="selector-class">.util</span><span class="selector-class">.net</span>.NioEndpoint<span class="variable">$SocketProcessor</span>.doRun(NioEndpoint<span class="selector-class">.java</span>:<span class="number">1459</span>)</span><br><span class="line">	at org<span class="selector-class">.apache</span><span class="selector-class">.tomcat</span><span class="selector-class">.util</span><span class="selector-class">.net</span><span class="selector-class">.SocketProcessorBase</span>.run(SocketProcessorBase<span class="selector-class">.java</span>:<span class="number">49</span>)</span><br><span class="line">	at java<span class="selector-class">.util</span><span class="selector-class">.concurrent</span><span class="selector-class">.ThreadPoolExecutor</span>.runWorker(ThreadPoolExecutor<span class="selector-class">.java</span>:<span class="number">1149</span>)</span><br><span class="line">	at java<span class="selector-class">.util</span><span class="selector-class">.concurrent</span>.ThreadPoolExecutor<span class="variable">$Worker</span>.run(ThreadPoolExecutor<span class="selector-class">.java</span>:<span class="number">624</span>)</span><br><span class="line">	at org<span class="selector-class">.apache</span><span class="selector-class">.tomcat</span><span class="selector-class">.util</span><span class="selector-class">.threads</span>.TaskThread<span class="variable">$WrappingRunnable</span>.run(TaskThread<span class="selector-class">.java</span>:<span class="number">61</span>)</span><br><span class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.Thread</span>.run(Thread<span class="selector-class">.java</span>:<span class="number">748</span>)</span><br><span class="line">Caused by: redis<span class="selector-class">.clients</span><span class="selector-class">.jedis</span><span class="selector-class">.exceptions</span><span class="selector-class">.JedisConnectionException</span>: java<span class="selector-class">.net</span><span class="selector-class">.ConnectException</span>: Connection refused (Connection refused)</span><br><span class="line">	at redis<span class="selector-class">.clients</span><span class="selector-class">.jedis</span><span class="selector-class">.Connection</span>.connect(Connection<span class="selector-class">.java</span>:<span class="number">207</span>)</span><br><span class="line">	at redis<span class="selector-class">.clients</span><span class="selector-class">.jedis</span><span class="selector-class">.BinaryClient</span>.connect(BinaryClient<span class="selector-class">.java</span>:<span class="number">93</span>)</span><br><span class="line">	at redis<span class="selector-class">.clients</span><span class="selector-class">.jedis</span><span class="selector-class">.BinaryJedis</span>.connect(BinaryJedis<span class="selector-class">.java</span>:<span class="number">1767</span>)</span><br><span class="line">	at redis<span class="selector-class">.clients</span><span class="selector-class">.jedis</span><span class="selector-class">.JedisFactory</span>.makeObject(JedisFactory<span class="selector-class">.java</span>:<span class="number">106</span>)</span><br><span class="line">	at org<span class="selector-class">.apache</span><span class="selector-class">.commons</span><span class="selector-class">.pool2</span><span class="selector-class">.impl</span><span class="selector-class">.GenericObjectPool</span>.create(GenericObjectPool<span class="selector-class">.java</span>:<span class="number">868</span>)</span><br><span class="line">	at org<span class="selector-class">.apache</span><span class="selector-class">.commons</span><span class="selector-class">.pool2</span><span class="selector-class">.impl</span><span class="selector-class">.GenericObjectPool</span>.borrowObject(GenericObjectPool<span class="selector-class">.java</span>:<span class="number">435</span>)</span><br><span class="line">	at org<span class="selector-class">.apache</span><span class="selector-class">.commons</span><span class="selector-class">.pool2</span><span class="selector-class">.impl</span><span class="selector-class">.GenericObjectPool</span>.borrowObject(GenericObjectPool<span class="selector-class">.java</span>:<span class="number">363</span>)</span><br><span class="line">	at redis<span class="selector-class">.clients</span><span class="selector-class">.util</span><span class="selector-class">.Pool</span>.getResource(Pool<span class="selector-class">.java</span>:<span class="number">49</span>)</span><br><span class="line">	... <span class="number">57</span> more</span><br><span class="line">Caused by: java<span class="selector-class">.net</span><span class="selector-class">.ConnectException</span>: Connection refused (Connection refused)</span><br><span class="line">	at java<span class="selector-class">.net</span><span class="selector-class">.PlainSocketImpl</span>.socketConnect(Native Method)</span><br><span class="line">	at java<span class="selector-class">.net</span><span class="selector-class">.AbstractPlainSocketImpl</span>.doConnect(AbstractPlainSocketImpl<span class="selector-class">.java</span>:<span class="number">350</span>)</span><br><span class="line">	at java<span class="selector-class">.net</span><span class="selector-class">.AbstractPlainSocketImpl</span>.connectToAddress(AbstractPlainSocketImpl<span class="selector-class">.java</span>:<span class="number">206</span>)</span><br><span class="line">	at java<span class="selector-class">.net</span><span class="selector-class">.AbstractPlainSocketImpl</span>.connect(AbstractPlainSocketImpl<span class="selector-class">.java</span>:<span class="number">188</span>)</span><br><span class="line">	at java<span class="selector-class">.net</span><span class="selector-class">.SocksSocketImpl</span>.connect(SocksSocketImpl<span class="selector-class">.java</span>:<span class="number">392</span>)</span><br><span class="line">	at java<span class="selector-class">.net</span><span class="selector-class">.Socket</span>.connect(Socket<span class="selector-class">.java</span>:<span class="number">589</span>)</span><br><span class="line">	at redis<span class="selector-class">.clients</span><span class="selector-class">.jedis</span><span class="selector-class">.Connection</span>.connect(Connection<span class="selector-class">.java</span>:<span class="number">184</span>)</span><br><span class="line">	... <span class="number">64</span> more</span><br></pre></td></tr></table></figure>



<h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><ul>
<li>没有释放 redis 池中的资源</li>
<li>redis pool 配置过小</li>
<li>无法连接到 redis</li>
</ul>
<h3 id="没有释放-redis-池中的资源"><a href="#没有释放-redis-池中的资源" class="headerlink" title="没有释放 redis 池中的资源"></a>没有释放 redis 池中的资源</h3><h3 id="redis-pool-配置过小"><a href="#redis-pool-配置过小" class="headerlink" title="redis pool 配置过小"></a>redis pool 配置过小</h3><h3 id="无法连接到-redis"><a href="#无法连接到-redis" class="headerlink" title="无法连接到 redis"></a>无法连接到 redis</h3><ul>
<li><p>由于防火墙原因无法连接到 Redis;</p>
<ol>
<li>服务器防火墙入站规则。</li>
</ol>
<ul>
<li>通过 java 无法连接 redis，而使用 redis-cli 是可以的。首先检查网络，可以 ping 通。检查端口<code>netstat -tunlp |grep 6379</code>状态正常,redis.conf 中的 bind 的配置为 bind 0.0.0.0 即所有地址均可连接，然后./redis-server ./redis.conf 指定配置文件启动测试，仍然无法连接，继续排查，有网友说可能是服务器防火墙的问题，咱关了防火墙试下,<code>systemctl stop firewalld.service</code> 关闭防火墙.我的虚拟机是 centos7 的默认防火墙，7 以下默认是 iptables 的，再测试，OK，连上了。<br><code>systemctl stop firewalld.service #停止firewall</code><br><code>systemctl disable firewalld.service #禁止firewall开机启动</code><br>执行这段命令就可以开放 6379 端口了<br><code>firewall-cmd --zone=public --add-port=6379/tcp --permanent</code><br>发现还是连不上。</li>
<li>ifconfig 查看 ip，一个个 ping。发现只有 10.xxx.xxx.xxx 的才可以 ping 通。将 application.properties 内的 redis 配置的 host 改为该地址。再运行项目，不报 redis 错了。</li>
</ul>
</li>
</ul>
<ol>
<li>访问 Redis 的应用程序所在主机的出站规则。</li>
</ol>
<ul>
<li>IP 地址或端口错误</li>
</ul>
<p>借鉴地址 1[<a href="https://www.jianshu.com/p/53c05871fd36]" target="_blank" rel="noopener">https://www.jianshu.com/p/53c05871fd36]</a><br>借鉴地址 2[<a href="https://blog.csdn.net/m0_37837382/article/details/80999977]" target="_blank" rel="noopener">https://blog.csdn.net/m0_37837382/article/details/80999977]</a><br>借鉴地址 3[<a href="https://blog.csdn.net/qq_33326449/article/details/80460521]" target="_blank" rel="noopener">https://blog.csdn.net/qq_33326449/article/details/80460521]</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">hhy</p>
  <div class="site-description" itemprop="description">比昨天更好</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">47</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/han1997" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;han1997" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:hanhuiyuan1997@gmail.com" title="E-Mail → mailto:hanhuiyuan1997@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-Hans" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">hhy</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">75k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">1:08</span>
</div>

        






<script>
  (function() {
    function leancloudSelector(url) {
      url = encodeURI(url);
      return document.getElementById(url).querySelector('.leancloud-visitors-count');
    }

    function addCount(Counter) {
      var visitors = document.querySelector('.leancloud_visitors');
      var url = decodeURI(visitors.id);
      var title = visitors.dataset.flagTitle;

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url })))
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length > 0) {
            var counter = results[0];
            leancloudSelector(url).innerText = counter.time + 1;
            Counter('put', '/classes/Counter/' + counter.objectId, { time: { '__op': 'Increment', 'amount': 1 } })
              .catch(error => {
                console.error('Failed to save visitor count', error);
              });
          } else {
              leancloudSelector(url).innerText = 'Counter not initialized! More info at console err msg.';
              console.error('ATTENTION! LeanCloud counter has security bug, see how to solve it here: https://github.com/theme-next/hexo-leancloud-counter-security. \n However, you can still use LeanCloud without security, by setting `security` option to `false`.');
            
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    function showTime(Counter) {
      var visitors = document.querySelectorAll('.leancloud_visitors');
      var entries = [...visitors].map(element => {
        return decodeURI(element.id);
      });

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url: { '$in': entries } })))
        .then(response => response.json())
        .then(({ results }) => {
          for (let url of entries) {
            let target = results.find(item => item.url === url);
            leancloudSelector(url).innerText = target ? target.time : 0;
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    let { app_id, app_key, server_url } = {"enable":true,"app_id":null,"app_key":null,"server_url":null,"security":true};
    function fetchData(api_server) {
      var Counter = (method, url, data) => {
        return fetch(`${api_server}/1.1${url}`, {
          method,
          headers: {
            'X-LC-Id'     : app_id,
            'X-LC-Key'    : app_key,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      if (CONFIG.page.isPost) {
        if (CONFIG.hostname !== location.hostname) return;
        addCount(Counter);
      } else if (document.querySelectorAll('.post-title-link').length >= 1) {
        showTime(Counter);
      }
    }

    let api_server = app_id.slice(-9) !== '-MdYXbMMI' ? server_url : `https://${app_id.slice(0, 8).toLowerCase()}.api.lncldglobal.com`;

    if (api_server) {
      fetchData(api_server);
    } else {
      fetch('https://app-router.leancloud.cn/2/route?appId=' + app_id)
        .then(response => response.json())
        .then(({ api_server }) => {
          fetchData('https://' + api_server);
        });
    }
  })();
</script>


      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>


  <script defer src="/lib/three/three.min.js"></script>
    <script defer src="/lib/three/three-waves.min.js"></script>
    <script defer src="/lib/three/canvas_lines.min.js"></script>
    <script defer src="/lib/three/canvas_sphere.min.js"></script>


  




  
<script src="/js/local-search.js"></script>













  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/valine@1/dist/Valine.min.js', () => {
    new Valine(Object.assign({
      el         : '#valine-comments',
      path       : location.pathname,
    }, {"enable":true,"appId":"aEAw8zbFeOeNJP1ORD8jRl74-gzGzoHsz","appKey":"77aRXFHBdmYYXerB05Wqjxe6","placeholder":"Just go go","avatar":"mm","meta":["nick","mail","link"],"pageSize":10,"language":"zh-Hans","visitor":false,"comment_count":true,"recordIP":false,"serverURLs":null}
    ));
  }, window.Valine);
});
</script>

</body>
</html>
